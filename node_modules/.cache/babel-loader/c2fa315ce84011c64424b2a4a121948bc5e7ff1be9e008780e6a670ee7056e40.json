{"ast":null,"code":"import _regeneratorRuntime from\"D:/Movie/movie-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Movie/movie-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Movie/movie-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import movieAPI from'../../api/movieAPI';import{Swiper,SwiperSlide}from'swiper/react';import MovieCard from'../MovieCard/MovieCard';import{category}from'../../api/movieAPI';import'./movielist.scss';import{jsx as _jsx}from\"react/jsx-runtime\";var MovieList=function MovieList(props){var id=props.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];useEffect(function(){var data=[];var getMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!id){_context.next=21;break;}if(!(props.type==='similar')){_context.next=7;break;}_context.next=4;return movieAPI.getSimilarVideo(props.category,id).then(function(result){return result.results;});case 4:data=_context.sent;_context.next=17;break;case 7:_context.t0=props.category;_context.next=_context.t0===category.movie?10:14;break;case 10:_context.next=12;return movieAPI.getMovieList(props.type).then(function(result){return result.results;});case 12:data=_context.sent;return _context.abrupt(\"break\",17);case 14:_context.next=16;return movieAPI.getTvList(props.type).then(function(result){return result.results;});case 16:data=_context.sent;case 17:if(!(data.length<1)){_context.next=21;break;}_context.next=20;return movieAPI.getTvList('onTheAir').then(function(result){return result.results;});case 20:data=_context.sent;case 21:setMovies(data);case 22:case\"end\":return _context.stop();}},_callee);}));return function getMovies(){return _ref.apply(this,arguments);};}();getMovies();},[id,props.category,props.type]);return/*#__PURE__*/_jsx(\"div\",{className:\"mt-12\",children:/*#__PURE__*/_jsx(Swiper,{slidesPerView:5,spaceBetween:30,pagination:{clickable:true},className:\"flex overflow-hidden\",children:movies.map(function(item){return/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsx(MovieCard,{category:props.category,item:item})},item.id);})})});};export default MovieList;","map":{"version":3,"names":["React","useEffect","useState","movieAPI","Swiper","SwiperSlide","MovieCard","category","jsx","_jsx","MovieList","props","id","_useState","_useState2","_slicedToArray","movies","setMovies","data","getMovies","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","type","getSimilarVideo","then","result","results","sent","t0","movie","getMovieList","abrupt","getTvList","length","stop","apply","arguments","className","children","slidesPerView","spaceBetween","pagination","clickable","map","item"],"sources":["D:/Movie/movie-app/src/components/MovieList/MovieList.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport movieAPI from '../../api/movieAPI'\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport MovieCard from '../MovieCard/MovieCard';\r\nimport { category } from '../../api/movieAPI';\r\nimport './movielist.scss'\r\nconst MovieList = (props) => {\r\n    const {id} = props\r\n    const [movies, setMovies] = useState([])\r\n    useEffect(() => {\r\n        let data = [];\r\n        const getMovies = async () => {\r\n            if(id){\r\n                if(props.type === 'similar') {\r\n                    data = await movieAPI.getSimilarVideo(props.category, id).then(result => result.results)\r\n                } else {\r\n                  switch(props.category){\r\n                    case category.movie: \r\n                        data = await movieAPI.getMovieList(props.type).then(result => result.results)\r\n                        break;\r\n                    default: \r\n                      data = await movieAPI.getTvList(props.type).then(result => result.results)\r\n                    \r\n                  }\r\n                }\r\n                if(data.length < 1) {\r\n                      data = await movieAPI.getTvList('onTheAir').then(result => result.results)\r\n                }\r\n            }\r\n            setMovies(data)\r\n        }\r\n        getMovies()\r\n    }, [id, props.category,props.type])\r\n  return (\r\n    <div className='mt-12'>\r\n        <Swiper\r\n        slidesPerView={5}\r\n        spaceBetween={30}\r\n        pagination={{\r\n          clickable: true,\r\n        }}\r\n        className = 'flex overflow-hidden'\r\n      >\r\n        {\r\n            movies.map(item => {\r\n                return (\r\n                    <SwiperSlide key ={item.id}>\r\n                        <MovieCard category = {props.category} item = {item}/>\r\n                    </SwiperSlide>\r\n                )\r\n            })\r\n        }\r\n      </Swiper>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MovieList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}